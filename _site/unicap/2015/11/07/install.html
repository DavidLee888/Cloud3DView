<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Cloud3DView</title>

    <link rel="stylesheet" href="/cloud3dview/css/stylesheets/styles.css">
    <link rel="stylesheet" href="/cloud3dview/css/stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>
          <a class="post-link" href="/cloud3dview/"> Cloud3DView </a>
        </h1>
        <p>Data Center Modeling and Management System</p>

       <!-- <p class="view"><a href="https://github.com/sunpengsdu/unicap">View the Project on GitHub <small>sunpengsdu/unicap</small></a></p>-->
       <!--
        <h3>
        
          
            <p class="view">
              <a class="post-link" href="/cloud3dview/unicap/2015/11/07/install.html">Install UniCAP</a>
            </p> 
          
        
          
        
          
            <p class="view">
              <a class="post-link" href="/cloud3dview/unicap/2015/11/07/getting%20started.html">Getting Started</a>
            </p> 
          
        
          
            <p class="view">
              <a class="post-link" href="/cloud3dview/unicap/2015/11/07/example.html">Example</a>
            </p> 
          
        
          
        
        </h3>
       -->

        <h3>
        <p class="view">
          <a class="post-link" target="_blank" href="https://github.com/cap-ntu/Cloud3DView/wiki">Wiki</a>
        </p> 
        </h3>

        <h3>
        <p class="view">
          <a class="post-link" target="_blank" href="https://github.com/cap-ntu/Cloud3DView/issues">Issues</a>
        </p> 
        </h3>

        <ul>
          <li><a href="https://github.com/cap-ntu/Cloud3DView/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/cap-ntu/Cloud3DView/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/cap-ntu/Cloud3DView">View On <strong>GitHub</strong></a></li>
        </ul>
       
      </header>
      <section>
         
         <h1 id="install-unicap">Install UniCAP</h1>
<p>These are instructions for installing UniCAP.</p>

<h2 id="using-docker-image">Using Docker Image</h2>

<p>We provide an Docker image with the stable version of UniCAP installed. Users can deploy UniCAP using our Big Data Platform (BDP) directly with the associated Docker image.</p>

<p><a href="http://155.69.146.43/bdp/guest">Using UniCAP in BDP</a>.</p>

<h2 id="installing-from-source">Installing From Source</h2>

<h3 id="span-stylecolor-greenrequirementsspan"><span style="color: Green">Requirements</span></h3>

<h4 id="span-stylecolor-bluec-compilerspan"><span style="color: blue">C++ Compiler</span></h4>

<p>UniCAP needs a C++ compiler supporting c++11, such as gcc &gt;= 4.7.2 (prefer &gt;= 4.8) or llvm &gt;= 3.4. You can update gcc via either downloading packages, or building from source. </p>

<p><strong>1) Ubuntu 12.04</strong></p>

<pre><code>sudo apt-get install python-software-properties
sudo add-apt-repository ppa:ubuntu-toolchain-r/test
sudo apt-get update
sudo apt-get install gcc-4.8 g++-4.8
sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin gcc-4.8 50
sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin g++-4.8 50
sudo update-alternatives --config gcc
sudo update-alternatives --config g++
</code></pre>

<p>After that, check the gcc version via:</p>

<pre><code>gcc --version
</code></pre>

<p><strong>2) Ubuntu 14.04</strong></p>

<p>Ubuntu 14.04 contains gcc-4.8 in its system software system. 
Check the gcc version:</p>

<pre><code>gcc --version 
</code></pre>

<hr />

<h4 id="span-stylecolor-blueboost-libraryspan"><span style="color: blue">Boost Library</span></h4>

<p>UniCAP needs boost library &gt;= 1.54 (prefer &gt;= 1.55). </p>

<p><strong>1) Ubuntu 12.04</strong></p>

<p>You can install boost via ppa in ubuntu 12.04:</p>

<p>Add ppa:boost-latest/ppa to your system’s software sources based on the instructions in </p>

<p><a href="https://launchpad.net/~boost-latest/+archive/ubuntu/ppa">https://launchpad.net/~boost-latest/+archive/ubuntu/ppa</a></p>

<p>Update your system’s software sources:</p>

<pre><code>sudo apt-get update
</code></pre>

<p>Install boost 1.55:</p>

<pre><code>sudo apt-get install libboost1.55-all-dev
</code></pre>

<p><strong>2) Ubuntu 14.04</strong>   </p>

<p>Ubuntu 14.04 contains boost1.55</p>

 	sudo apt-get install libboost1.55-all-dev

<hr />

<h4 id="span-stylecolor-bluethriftspan"><span style="color: blue">Thrift</span></h4>

<p>1) Install thrift dependencies:</p>

<pre><code>sudo apt-get install libevent-dev automake libtool
sudo apt-get install flex bison pkg-config libssl-dev  
</code></pre>

<p>2) Install thrift from source </p>

<pre><code>wget http://mirror.nus.edu.sg/apache/thrift/0.9.2/thrift-0.9.2.tar.gz
tar zxvf thrift-0.9.2.tar.gz
cd thrift-0.9.2
./configure --without-java --without-go
make
sudo make install
</code></pre>

<hr />

<h4 id="span-stylecolor-blueglog-and-gflagsspan"><span style="color: blue">Glog and Gflags</span></h4>

<p>UniCAP uses glog and gflags to print log data.</p>

<p><strong>1) Ubuntu 12.04</strong></p>

<p>Install Glog</p>

<pre><code>wget https://google-glog.googlecode.com/files/glog-0.3.3.tar.gz
tar zxvf glog-0.3.3.tar.gz
cd glog-0.3.3
./configure
make
sudo make install
</code></pre>

<p>Install Gflags</p>

<pre><code>wget https://github.com/schuhschuh/gflags/archive/master.zip
unzip master.zip
cd gflags-master
mkdir build &amp;&amp; cd build
export CXXFLAGS="-fPIC" &amp;&amp; cmake .. &amp;&amp; make VERBOSE=1
make
sudo make install
</code></pre>

<p><strong>2) Ubuntu 14.04</strong></p>

<p>sudo apt-get install libgflags-dev libgoogle-glog-dev</p>

<hr />

<h4 id="span-stylecolor-blueleveldbspan"><span style="color: blue">LevelDB</span></h4>

<p>UniCAP uses LevelDB as one of its storage systems.</p>

<pre><code>sudo apt-get install libleveldb-dev libsnappy-dev
</code></pre>

<hr />

<h4 id="span-stylecolor-blueopencv2span"><span style="color: blue">OpenCV2</span></h4>

<p>UniCAP uses OpenCV2 run image related applications.</p>

<pre><code>wget https://github.com/Itseez/opencv/archive/2.4.11.zip
unzip 2.4.11.zip
./configure
make 
sudo make install ---
</code></pre>

<h4 id="span-stylecolor-bluempispan"><span style="color: blue">MPI</span></h4>

<p>UniCAP uses MPI to parallel the application.</p>

<pre><code>sudo apt-get install libopenmpi-dev openmpi-bin openmpi-common openmpi-doc
</code></pre>

<hr />

<h4 id="span-stylecolor-bluehdfsspan"><span style="color: blue">HDFS</span></h4>

<p>To work with Hadoop Distributed File System using C++, there are two choices:</p>

<p><strong>1) libhdfs3</strong></p>

<p>Libhdfs3 a native c/c++ hdfs client (there is no need to use Java to work with HDFS in application layer).</p>

<p>Refer to <a href="https://github.com/PivotalRD/libhdfs3">https://github.com/PivotalRD/libhdfs3</a></p>

<p>To compile libhdfs3, users need following libraries:</p>

<pre><code>sudo apt-get install protobuf-compiler  libprotobuf-dev 
sudo apt-get install libkrb5-dev libxml2-dev libuuid1 uuid-dev 
sudo apt-get install libgsasl7 libgsasl7-dev 
</code></pre>

<p><strong>2) libhdfs</strong></p>

<p>Libhdfs is a JNI based C api for Hadoop’s DFS. It provides a simple subset of C apis to manipulate DFS files and the filesystem. </p>

<p>Clients should compile libhdfs based on their HDFS version in use. To work with JNI, there are some modifications in system:</p>

<pre><code>vi /etc/ld.so.conf.d/java.conf

append following configurations:

/opt/jdk1.7.0_75/jre/lib/amd64
/opt/jdk1.7.0_75/jre/lib/amd64/server
</code></pre>

<p>Sometimes, the JNI-based application cannot find the needed jar packets for HDFS operations. Using following commands to generate a shell script, run it at the start up of the application:</p>

<pre><code>find /usr/lib/hadoop -name *.jar|awk '{ printf("export CLASSPATH=%s:$CLASSPATH\n", $0); }' &gt;&gt; hdfs_jni.sh
find /usr/lib/hadoop/lib -name *.jar|awk '{ printf("export CLASSPATH=%s:$CLASSPATH\n", $0); }' &gt;&gt; hdfs_jni.sh
find /usr/lib/hadoop-hdfs/ -name *.jar|awk '{ printf("export CLASSPATH=%s:$CLASSPATH\n", $0); }' &gt;&gt; hdfs_jni.sh
find /usr/lib/hadoop-hdfs/lib/ -name *.jar|awk '{ printf("export CLASSPATH=%s:$CLASSPATH\n", $0); }' &gt;&gt; hdfs_jni.sh
</code></pre>

<hr />
<hr />

<h3 id="span-stylecolor-greencompile-unicapspan"><span style="color: Green">Compile UniCAP</span></h3>
<pre><code>git clone https://github.com/sunpengsdu/unicap
cd unicap/build
cmake ..
make -j8
</code></pre>



      </section>


      <footer>
        <p>This project is maintained by <a href="https://github.com/weidaxu1988">Weida Xu</a></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
